<div class="uk-grid uk-child-width-1-2@m" uk-grid>
    <div>
        {#if message}
        <div class="uk-alert uk-alert-success" hx-get="/films/clear" hx-trigger="load delay:3s" hx-swap="outerHTML">
            {message}
        </div>
        {/if}

        {#if films && films.size > 0}
        <form class="sortable" hx-post="/films/reorder" hx-trigger="end" hx-target="#film-list">
            <ul class="uk-list uk-list-striped">
                {#for film in films}
                <div>
                    <input type="hidden" name="film_order" value="{film.id}" />
                    <li class="uk-flex uk-flex-between uk-flex-middle">
                        <span class="drag-handle" style="cursor: grab; margin-right: 10px;" uk-icon="icon: menu"></span>
                        <a class="uk-flex-1" style="cursor: pointer;"
                           hx-get="/films/{film.id}/detail"
                           hx-target="#film-list">
                            #{film.displayOrder} {film.name}
                        </a>
                        <span class="uk-badge"
                              style="cursor: pointer; background-color: #f0506e;"
                              hx-delete="/films/{film.id}"
                              hx-target="#film-list"
                              hx-confirm="Are you sure you wish to delete?">X</span>
                    </li>
                </div>
                {/for}
            </ul>
        </form>
        {#else}
        <p class="uk-text-muted">You do not have any films in your list</p>
        {/if}
    </div>
    <div>
        {#include FilmResource/search /}
    </div>
</div>
